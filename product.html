<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Sản phẩm — Store</title>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700;900&family=Montserrat:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    :root{
      --primary:#D24B62; --pastel:#F5C9D0; --pastel-2:#F9E1E5;
      --text:#555555; --muted:#8C6F74; --bg:#fff; --border:rgba(0,0,0,.08);
      --card:#ffffff; --radius:16px; --container:1200px;
    }
    *{box-sizing:border-box}
    body{margin:0;background:var(--bg);color:var(--text);font-family:"Montserrat",system-ui,Segoe UI,Roboto,Arial,sans-serif;line-height:1.55}
    a{text-decoration:none;color:inherit}
    .container{max-width:var(--container);margin:0 auto;padding:0 24px}

    /* Header */
    header{position:sticky;top:0;z-index:30;background:#fff;border-bottom:1px solid var(--border);backdrop-filter:saturate(180%) blur(6px)}
    .header-row{display:flex;align-items:center;justify-content:space-between;padding:14px 0;gap:16px}
    .logo{font-family:"Playfair Display",serif;font-weight:900;color:var(--primary);font-size:30px}
    nav ul{display:flex;gap:22px;list-style:none;margin:0;padding:0}
    nav a{font-weight:600;letter-spacing:.06em;text-transform:uppercase;font-size:14px;padding:6px 2px}
    nav a:hover{color:var(--primary)}
    .actions{display:flex;align-items:center;gap:12px}
    .icon-btn{width:36px;height:36px;border-radius:999px;border:1px solid var(--border);display:grid;place-items:center;position:relative}
    .badge{position:absolute;right:-6px;top:-6px;background:var(--primary);color:#fff;border-radius:999px;font-size:11px;font-weight:800;padding:2px 6px}

    /* Page title */
    .pagehead{padding:24px 0 10px}
    .pagehead h1{margin:0;font-family:"Playfair Display",serif;font-weight:900;font-size:36px}
    .crumbs{font-size:13px;color:#8a7a7d}
    .crumbs a{color:#8a7a7d}
    .crumbs a:hover{color:var(--primary)}

    /* Layout */
    .layout{display:grid;grid-template-columns:280px 1fr;gap:24px;padding:18px 0 40px}
    aside{
      background:#fff;border:1px solid var(--border);border-radius:14px;padding:16px;position:sticky;top:86px;height:fit-content
    }
    .aside-title{font-weight:800;letter-spacing:.06em;text-transform:uppercase;font-size:12px;color:#8a7a7d;margin:0 0 10px}
    .field{display:grid;gap:8px;margin-bottom:14px}
    .label{font-size:13px;font-weight:700}
    input[type="text"], select, input[type="number"]{
      height:40px;border:1px solid var(--border);border-radius:10px;padding:0 12px;font-size:14px
    }
    .check{display:flex;align-items:center;gap:10px;font-size:14px;margin:8px 0}
    .range { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }
    .range > * { min-width: 0; }         
    .range input { width: 100%; max-width: 100%; }
    .apply{height:40px;border:none;border-radius:10px;background:var(--primary);color:#fff;font-weight:800;letter-spacing:.06em;text-transform:uppercase;cursor:pointer}
    .reset{background:#fff;color:#7d5b5b;border:1px solid var(--border)}

    /* Toolbar */
    .toolbar{display:flex;align-items:center;justify-content:space-between;gap:12px;margin-bottom:10px;flex-wrap:wrap}
    .result{color:#7d5b5b;font-size:14px}
    .sort{display:flex;align-items:center;gap:8px}
    .sort select{height:40px;border:1px solid var(--border);border-radius:10px;padding:0 10px}

    /* Grid */
    .grid{display:grid;grid-template-columns:repeat(4,1fr);gap:18px}
    .card{
      background:var(--card);border:1px solid var(--border);border-radius:14px;overflow:hidden;display:flex;flex-direction:column
    }
    .thumb{
      aspect-ratio:4/3;position:relative;overflow:hidden;background:
        radial-gradient(120px 120px at 30% 20%, rgba(255,255,255,.35), transparent 40%),
        linear-gradient(135deg,#e3e3e3,#f7f7f7);
    }
    .thumb .off{position:absolute;left:12px;top:12px;background:#fff;color:var(--primary);font-weight:800;border-radius:999px;padding:6px 10px;font-size:12px;border:1px solid var(--border)}
    .card-body{padding:14px;display:grid;gap:8px}
    .title{font-weight:700}
    .price{display:flex;align-items:center;gap:10px}
    .now{font-weight:800;color:#222}
    .old{color:#9c8d90;text-decoration:line-through}
    .meta{display:flex;align-items:center;justify-content:space-between}
    .stars{color:#E1B12C;font-size:14px}
    .stock{font-size:12px;color:#7d5b5b}
    .cta{margin-top:8px}
    .btn-add{
      width:100%;height:40px;border:none;border-radius:10px;background:var(--primary);color:#fff;font-weight:800;letter-spacing:.06em;text-transform:uppercase;cursor:pointer;transition:transform .06s ease
    }
    .btn-add:hover{transform:translateY(-1px)}

    /* Pagination */
    .pagination{display:flex;justify-content:center;gap:8px;margin-top:16px}
    .page{min-width:36px;height:36px;border:1px solid var(--border);border-radius:10px;display:grid;place-items:center;padding:0 10px;cursor:pointer}
    .page.active{background:var(--primary);color:#fff;border-color:var(--primary)}

    /* Toast */
    .toast{
      position:fixed;right:16px;bottom:16px;background:#111;color:#fff;padding:12px 14px;border-radius:12px;opacity:0;transform:translateY(12px);transition:all .25s ease;pointer-events:none;z-index:50
    }
    .toast.show{opacity:1;transform:translateY(0)}

    /* Responsive */
    @media (max-width: 1100px){.grid{grid-template-columns:repeat(3,1fr)}}
    @media (max-width: 820px){
      .layout{grid-template-columns:1fr}
      aside{position:static}
    }
    @media (max-width: 640px){.grid{grid-template-columns:repeat(2,1fr)}}
  </style>
</head>
<body>
  <!-- Header -->
  <header>
    <div class="container header-row">
      <div class="logo"><a href="index.html">Nessa House</a></div>
      <nav>
        <ul>
          <li><a href="index.html">Trang chủ</a></li>
          <li><a href="products.html" style="color:var(--primary);border-bottom:2px solid var(--primary);padding-bottom:4px">Sản phẩm</a></li>
          <li><a href="login.html">Đăng nhập</a></li>
          <li><a href="register.html">Đăng ký</a></li>
        </ul>
      </nav>
      <div class="actions">
        <a class="icon-btn" href="cart.html" aria-label="Giỏ hàng">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true">
            <path d="M7 7h10l1.5 13H5.5L7 7Z" stroke="currentColor" stroke-width="1.6"/>
            <path d="M9 9V6a3 3 0 1 1 6 0v3" stroke="currentColor" stroke-width="1.6"/>
          </svg>
          <span id="cart-badge" class="badge">0</span>
        </a>
      </div>
    </div>
  </header>

  <!-- Page head -->
  <div class="container pagehead">
    <div class="crumbs"><a href="index.html">Home</a> / <b>Sản phẩm</b></div>
    <h1>Bộ sưu tập</h1>
  </div>

  <div class="container layout">
    <!-- Sidebar filters -->
    <aside>
      <p class="aside-title">Bộ lọc</p>

      <div class="field">
        <label class="label" for="q">Tìm kiếm</label>
        <input id="q" type="text" placeholder="Từ khóa (ví dụ: jeans, bag...)" />
      </div>

      <div class="field">
        <div class="label">Danh mục</div>
        <label class="check"><input type="checkbox" class="cat" value="jeans" checked> Jeans</label>
        <label class="check"><input type="checkbox" class="cat" value="accessories" checked> Accessories</label>
        <label class="check"><input type="checkbox" class="cat" value="makeup" checked> Make up</label>
      </div>

      <div class="field">
        <div class="label">Khoảng giá (k)</div>
        <div class="range">
          <input id="minp" type="number" min="0" step="50" placeholder="Min" />
          <input id="maxp" type="number" min="0" step="50" placeholder="Max" />
        </div>
        <div class="hint" style="font-size:12px;color:#9a8b8f;margin-top:6px">Ví dụ: 199 – 899</div>
      </div>

      <div class="field">
        <div class="label">Sắp xếp</div>
        <select id="sort">
          <option value="featured">Nổi bật</option>
          <option value="price-asc">Giá tăng dần</option>
          <option value="price-desc">Giá giảm dần</option>
          <option value="name-asc">Tên A → Z</option>
          <option value="name-desc">Tên Z → A</option>
        </select>
      </div>

      <div class="field" style="display:flex;gap:10px">
        <button id="apply" class="apply" type="button">Áp dụng</button>
        <button id="reset" class="apply reset" type="button">Reset</button>
      </div>
    </aside>

    <!-- Main content -->
    <section>
      <div class="toolbar">
        <div class="result"><span id="count">0</span> sản phẩm</div>
        <div class="sort">Sắp xếp nhanh:
          <select id="sort2">
            <option value="featured">Nổi bật</option>
            <option value="price-asc">Giá tăng dần</option>
            <option value="price-desc">Giá giảm dần</option>
            <option value="name-asc">Tên A → Z</option>
            <option value="name-desc">Tên Z → A</option>
          </select>
        </div>
      </div>

      <div id="grid" class="grid">
        <!-- Cards will be rendered by JS -->
      </div>

      <div class="pagination" id="pagination"></div>
    </section>
  </div>

  <div id="toast" class="toast">Đã thêm vào giỏ hàng</div>

  <script>
    // ------- Data (demo) -------
    const products = [
      {id:1, name:"Skinny Jeans Aurora", cat:"jeans", price:599, old:799, off:25, stock:12, rating:4.5},
      {id:2, name:"Classic Denim Blue", cat:"jeans", price:499, old:0, off:0, stock:6, rating:4.2},
      {id:3, name:"High-rise Mom Jeans", cat:"jeans", price:699, old:899, off:22, stock:9, rating:4.7},
      {id:4, name:"Minimal Tote Bag", cat:"accessories", price:329, old:0, off:0, stock:15, rating:4.0},
      {id:5, name:"Pearl Earrings Set", cat:"accessories", price:259, old:0, off:0, stock:20, rating:4.4},
      {id:6, name:"Silk Scarf Bloom", cat:"accessories", price:219, old:299, off:27, stock:7, rating:4.3},
      {id:7, name:"Matte Lipstick Rose", cat:"makeup", price:189, old:0, off:0, stock:33, rating:4.6},
      {id:8, name:"Nude Palette 9", cat:"makeup", price:349, old:429, off:19, stock:18, rating:4.5},
      {id:9, name:"Glow Highlighter", cat:"makeup", price:249, old:0, off:0, stock:11, rating:4.1},
      {id:10, name:"Straight Jeans Mist", cat:"jeans", price:549, old:0, off:0, stock:10, rating:4.0},
      {id:11, name:"Crossbody Mini", cat:"accessories", price:379, old:449, off:16, stock:8, rating:4.2},
      {id:12, name:"Velvet Lip Tint", cat:"makeup", price:199, old:0, off:0, stock:26, rating:4.4},
    ];

    // ------- State -------
    let cart = 0;
    let currentPage = 1;
    const perPage = 8;
    let activeSort = 'featured';

    // ------- Helpers -------
    const $ = (q, root=document) => root.querySelector(q);
    const $$ = (q, root=document) => [...root.querySelectorAll(q)];
    const fmtPrice = k => k.toLocaleString('vi-VN') + 'k';
    const stars = r => '★'.repeat(Math.round(r)) + '☆'.repeat(5-Math.round(r));

    function renderCards(list){
      const grid = $('#grid');
      grid.innerHTML = '';
      list.forEach(p=>{
        const card = document.createElement('div');
        card.className = 'card';
        card.innerHTML = `
          <div class="thumb">
            ${p.off ? `<div class="off">-${p.off}%</div>` : ``}
          </div>
          <div class="card-body">
            <div class="title">${p.name}</div>
            <div class="price">
              <div class="now">${fmtPrice(p.price)}</div>
              ${p.old ? `<div class="old">${fmtPrice(p.old)}</div>`:''}
            </div>
            <div class="meta">
              <div class="stars" title="${p.rating}/5">${stars(p.rating)}</div>
              <div class="stock">Còn: ${p.stock}</div>
            </div>
            <div class="cta">
              <button class="btn-add" data-id="${p.id}">Add to cart</button>
            </div>
          </div>`;
        grid.appendChild(card);
      });

      // bind cart buttons
      $$('.btn-add').forEach(btn=>{
        btn.addEventListener('click', ()=>{
          cart++; $('#cart-badge').textContent = cart;
          showToast('Đã thêm "' + products.find(x=>x.id==btn.dataset.id).name + '"');
        });
      });
      $('#count').textContent = list.length;
    }

    function paginate(arr, page=1, per=perPage){
      const start = (page-1)*per;
      return arr.slice(start, start+per);
    }

    function renderPagination(total, page=1, per=perPage){
      const pages = Math.max(1, Math.ceil(total/per));
      const el = $('#pagination');
      el.innerHTML = '';
      for(let i=1;i<=pages;i++){
        const b = document.createElement('button');
        b.className = 'page' + (i===page?' active':'');
        b.textContent = i;
        b.addEventListener('click', ()=>{
          currentPage = i;
          applyFilters();
        });
        el.appendChild(b);
      }
    }

    function getFilters(){
      const q = $('#q').value.trim().toLowerCase();
      const cats = $$('.cat').filter(c=>c.checked).map(c=>c.value);
      const minp = parseInt($('#minp').value || '0', 10);
      const maxp = parseInt($('#maxp').value || '999999', 10);
      return {q, cats, minp, maxp};
    }

    function sortList(list, key){
      switch(key){
        case 'price-asc': return list.slice().sort((a,b)=>a.price-b.price);
        case 'price-desc': return list.slice().sort((a,b)=>b.price-a.price);
        case 'name-asc': return list.slice().sort((a,b)=>a.name.localeCompare(b.name));
        case 'name-desc': return list.slice().sort((a,b)=>b.name.localeCompare(a.name));
        default: return list; // featured
      }
    }

    function applyFilters(){
      const {q, cats, minp, maxp} = getFilters();
      let list = products.filter(p =>
        (cats.includes(p.cat)) &&
        (p.name.toLowerCase().includes(q)) &&
        (p.price >= minp && p.price <= maxp)
      );
      list = sortList(list, activeSort);
      const pageList = paginate(list, currentPage, perPage);
      renderCards(pageList);
      renderPagination(list.length, currentPage, perPage);
    }

    function showToast(msg){
      const t = $('#toast');
      t.textContent = msg;
      t.classList.add('show');
      clearTimeout(showToast._t);
      showToast._t = setTimeout(()=>t.classList.remove('show'), 1600);
    }

    // ------- Events -------
    $('#apply').addEventListener('click', ()=>{ currentPage=1; activeSort=$('#sort').value; $('#sort2').value=activeSort; applyFilters(); });
    $('#reset').addEventListener('click', ()=>{
      $('#q').value=''; $$('.cat').forEach(c=>c.checked=true);
      $('#minp').value=''; $('#maxp').value='';
      $('#sort').value='featured'; $('#sort2').value='featured';
      currentPage=1; activeSort='featured'; applyFilters();
    });
    $('#sort2').addEventListener('change', e=>{ activeSort=e.target.value; currentPage=1; $('#sort').value=activeSort; applyFilters(); });
    $('#q').addEventListener('keydown', e=>{ if(e.key==='Enter'){ currentPage=1; applyFilters(); } });

    // ------- Init -------
    applyFilters();
  </script>
</body>
</html>
